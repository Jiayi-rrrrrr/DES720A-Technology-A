<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Citation Galaxy — Archaeology of Knowledge</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.10.0/lib/p5.min.js"></script>
    <style>
      body {
        margin:0;
        padding:0;
        background:#000;
        color:#fff;
        font-family:Arial, sans-serif;
        overflow:hidden;
      }
      #hud {
        position:fixed;
        left:16px;
        top:16px;
        font-size:12px;
        line-height:1.4;
        color:#fff;
        pointer-events:none;
        max-width:240px;
        opacity:0.7;
        z-index:10;
      }
      #legend {
        position:fixed;
        top:16px;
        right:16px;
        font-size:11px;
        line-height:1.3;
        color:#fff;
        z-index:11;
        background:rgba(0,0,0,0.25);
        backdrop-filter:blur(4px);
        border:1px solid rgba(255,255,255,0.08);
        border-radius:6px;
        padding:10px 12px 10px 12px;
      }
      #legend-title {
        font-size:10px;
        text-transform:uppercase;
        letter-spacing:0.08em;
        opacity:0.6;
        margin-bottom:6px;
      }
      .legend-group { margin-bottom:8px; }
      .legend-row {
        display:flex;
        align-items:center;
        gap:5px;
        margin-bottom:4px;
      }
      .disc-dot { width:10px; height:10px; border-radius:50%; flex:0 0 10px; }
      .disc-media { background:rgb(140,180,255); }
      .disc-gender { background:rgb(255,170,120); }
      .disc-edu   { background:rgb(120,230,190); }
      .disc-theory{ background:rgb(210,180,255); }
      .disc-soc   { background:rgb(255,230,150); }
      .disc-art   { background:rgb(255,140,220); }

      .shape-icon { width:14px; height:14px; position:relative; flex:0 0 14px; }
      .shape-core {
        border-radius:50%;
        border:2px solid rgba(255,255,255,0.9);
        width:12px; height:12px; margin-left:1px;
      }
      .shape-planet { width:14px; height:14px; }
      .shape-planet::before {
        content:""; position:absolute; left:4px; top:4px;
        width:6px; height:6px; border-radius:50%;
        border:1px solid rgba(255,255,255,0.9);
      }
      .shape-planet::after {
        content:""; position:absolute; width:12px; height:8px; left:1px; top:3px;
        border:1px solid rgba(255,255,255,0.45); border-radius:50%;
      }
      .shape-jet { width:14px; height:14px; }
      .shape-jet::before,
      .shape-jet::after {
        content:""; position:absolute; left:6px; top:1px;
        width:2px; height:12px; background:rgba(255,255,255,0.8);
        transform-origin:center;
      }
      .shape-jet::after {
        transform:rotate(90deg);
        top:6px; height:2px; width:12px; left:1px;
        background:transparent;
      }
      .shape-jet-circle {
        position:absolute;
        left:4px; top:4px; width:6px; height:6px;
        border-radius:50%; background:rgba(255,255,255,0.9);
      }
      .shape-nebula { width:14px; height:14px; }
      .shape-nebula::before {
        content:""; position:absolute; left:1px; top:3px;
        width:12px; height:8px;
        border:1px solid rgba(255,255,255,0.35);
        border-radius:50% 40% 55% 50%;
        filter:drop-shadow(0 0 4px rgba(255,255,255,0.2));
      }

      /* 星球视角的返回提示 */
      #backTip {
        position:fixed;
        top:16px;
        left:16px;
        font-size:11px;
        background:rgba(0,0,0,0.35);
        padding:4px 8px;
        border-radius:4px;
        border:1px solid rgba(255,255,255,0.1);
        display:none;
        z-index:20;
      }
    </style>
  </head>

  <body>
    <div id="hud">
      <div><b id="coreLabel">The Archaeology of Knowledge</b></div>
      <div style="margin-top:6px;">
        radius = time<br/>
        color = discipline<br/>
        incoming bodies = citations arriving over time
      </div>
      <div id="hint" style="margin-top:8px; opacity:0.6;">
        • Click a paper/planet to land on it<br/>
        • Click center to go back
      </div>
    </div>

    <div id="legend">
      <div id="legend-title">legend</div>
      <div class="legend-group">
        <div class="legend-row"><div class="disc-dot disc-media"></div><div>media</div></div>
        <div class="legend-row"><div class="disc-dot disc-gender"></div><div>body / gender</div></div>
        <div class="legend-row"><div class="disc-dot disc-edu"></div><div>education</div></div>
        <div class="legend-row"><div class="disc-dot disc-theory"></div><div>theory</div></div>
        <div class="legend-row"><div class="disc-dot disc-soc"></div><div>soc / culture</div></div>
        <div class="legend-row" style="margin-bottom:0;"><div class="disc-dot disc-art"></div><div>art</div></div>
      </div>
      <div class="legend-group" style="margin-bottom:0;">
        <div class="legend-row"><div class="shape-icon"><div class="shape-core"></div></div><div>core</div></div>
        <div class="legend-row"><div class="shape-icon shape-planet"></div><div>planet</div></div>
        <div class="legend-row"><div class="shape-icon shape-jet"><div class="shape-jet-circle"></div></div><div>jet</div></div>
        <div class="legend-row" style="margin-bottom:0;"><div class="shape-icon shape-nebula"></div><div>nebula</div></div>
      </div>
    </div>

    <div id="backTip">click sky / top area to return</div>

    <script src="sketch.js"></script>
  </body>
</html>
