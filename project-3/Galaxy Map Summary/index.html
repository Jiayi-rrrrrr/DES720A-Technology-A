<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Citation as Galaxy ‚Äî Archaeology of Knowledge</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.10.0/lib/p5.min.js"></script>
    <style>
      body {
        margin:0;
        padding:0;
        background:#000;
        color:#fff;
        font-family:Arial, sans-serif;
        overflow:hidden;
      }

      #hud {
        position:fixed;
        left:16px;
        top:16px;
        font-size:12px;
        line-height:1.4;
        color:#fff;
        pointer-events:none;
        max-width:240px;
        opacity:0.7;
        z-index:10;
      }

      /* ----------- üî• LEGEND ENLARGED üî• ----------- */
      #legend {
        position:fixed;
        top:16px;
        right:16px;
        font-size:14px;                  /* ‚Üê 11px ‚Üí 14px */
        line-height:1.45;                /* Êõ¥Â•ΩËØª */
        color:#fff;
        z-index:11;
        background:rgba(0,0,0,0.25);
        backdrop-filter:blur(4px);
        border:1px solid rgba(255,255,255,0.08);
        border-radius:6px;
        padding:14px 16px 14px 16px;     /* Á®çÂæÆÊîæÂ§ß */
      }

      #legend-title {
        font-size:13px;                  /* ‚Üê 10px ‚Üí 13px */
        text-transform:uppercase;
        letter-spacing:0.09em;
        opacity:0.65;
        margin-bottom:8px;
      }

      .legend-group {
        margin-bottom:12px;
      }

      .legend-row {
        display:flex;
        align-items:center;
        gap:8px;                         /* ‚Üê 5px ‚Üí 8px */
        margin-bottom:6px;
      }

      /* --- discipline dots enlarged --- */
      .disc-dot {
        width:16px;                     /* ‚Üê 10px */
        height:16px;                    /* ‚Üê 10px */
        border-radius:50%;
        flex:0 0 16px;
      }

      .disc-media { background:rgb(140,180,255); }
      .disc-gender { background:rgb(255,170,120); }
      .disc-edu   { background:rgb(120,230,190); }
      .disc-theory{ background:rgb(210,180,255); }
      .disc-soc   { background:rgb(255,230,150); }
      .disc-art   { background:rgb(255,140,220); }

      /* üî• enlarge shape icons ==== */
      .shape-icon {
        width:20px;                      /* ‚Üê 14 */
        height:20px;                     /* ‚Üê 14 */
        position:relative;
        flex:0 0 20px;
      }

      .shape-core {
        border-radius:50%;
        border:3px solid rgba(255,255,255,0.9);  /* ‚Üê 2px stroke */
        width:16px;                              /* ‚Üê 12px */
        height:16px;                             /* ‚Üê 12px */
        margin-left:2px;
      }

      .shape-planet { width:20px;height:20px; }
      .shape-planet::before {
        content:"";
        position:absolute;
        left:6px;
        top:6px;
        width:8px;                        /* ‚Üê 6px */
        height:8px;
        border-radius:50%;
        border:2px solid rgba(255,255,255,0.9);
      }
      .shape-planet::after {
        content:"";
        position:absolute;
        width:16px;
        height:10px;
        left:2px;
        top:5px;
        border:2px solid rgba(255,255,255,0.45);
        border-radius:50%;
      }

      .shape-jet { width:20px;height:20px; }
      .shape-jet::before,
      .shape-jet::after {
        content:"";
        position:absolute;
        left:9px;
        top:2px;
        width:3px;
        height:16px;                      /* Âä†Èïø */
        background:rgba(255,255,255,0.8);
      }
      .shape-jet::after {
        transform:rotate(90deg);
        top:9px;
        height:3px;
        width:16px;
        left:2px;
        background:transparent;
        border-top:2px solid rgba(255,255,255,0.65);
      }
      .shape-jet-circle {
        position:absolute;
        left:6px;
        top:6px;
        width:8px;
        height:8px;
        border-radius:50%;
        background:rgba(255,255,255,0.9);
      }

      .shape-nebula { width:20px;height:20px; }
      .shape-nebula::before {
        content:"";
        position:absolute;
        left:2px;
        top:4px;
        width:16px;
        height:10px;
        border:2px solid rgba(255,255,255,0.35);
        border-radius:50% 40% 55% 50%;
        filter:drop-shadow(0 0 4px rgba(255,255,255,0.2));
      }
    </style>
  </head>

  <body>
    <div id="hud">
      <div><b id="coreLabel">No.89757</b></div>
      <div style="margin-top:6px;">
        radius = time<br/>
        color = discipline<br/>
        incoming bodies = citations arriving over time
      </div>
      <div id="hint" style="margin-top:8px; opacity:0.6;">
        ‚Ä¢ Click an A-paper (if it has children)<br/>
        ‚Ä¢ Click center to go back
      </div>
    </div>

    <div id="legend">
      <div id="legend-title">legend</div>

      <div class="legend-group">
        <div class="legend-row"><div class="disc-dot disc-media"></div><div>media</div></div>
        <div class="legend-row"><div class="disc-dot disc-gender"></div><div>body / gender</div></div>
        <div class="legend-row"><div class="disc-dot disc-edu"></div><div>education</div></div>
        <div class="legend-row"><div class="disc-dot disc-theory"></div><div>theory</div></div>
        <div class="legend-row"><div class="disc-dot disc-soc"></div><div>soc / culture</div></div>
        <div class="legend-row" style="margin-bottom:0;"><div class="disc-dot disc-art"></div><div>art</div></div>
      </div>

      <div class="legend-group" style="margin-bottom:0;">
        <div class="legend-row"><div class="shape-icon"><div class="shape-core"></div></div><div>core</div></div>
        <div class="legend-row"><div class="shape-icon shape-planet"></div><div>planet</div></div>
        <div class="legend-row"><div class="shape-icon shape-jet"><div class="shape-jet-circle"></div></div><div>jet</div></div>
        <div class="legend-row" style="margin-bottom:0;"><div class="shape-icon shape-nebula"></div><div>nebula</div></div>
      </div>
    </div>

    <script src="sketch.js"></script>
  </body>
</html>
